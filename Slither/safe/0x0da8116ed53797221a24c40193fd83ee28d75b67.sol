


pragma solidity ^0.8.0;


contract ManagedMultiWallet {
    modifier onlyOwner {
        require(msg.sender == owner);
        _;
    }

    mapping(address => uint256) public wallets;
    address public owner;

    constructor(address _owner) {
        owner = _owner;
    }

    function put(address _pub) external payable {
        wallets[_pub] += msg.value;
    }

    function peek(address _pub) external view returns (uint256) {
        return wallets[_pub];
    }

    
    
    function get(
        bytes32 _r,
        bytes32 _s,
        uint8 _v
    ) external {
        require(_v == 27 || _v == 28);
        address signer = ecrecover(
            bytes32(uint256(uint160(msg.sender))),
            _v,
            _r,
            _s
        );
        require(signer != address(0) && wallets[signer] != 0);
        payable(msg.sender).transfer(wallets[signer]);
        wallets[signer] = 0;
    }

    function rem(address _pub) external onlyOwner {
        require(wallets[_pub] != 0);
        payable(owner).transfer(wallets[_pub]);
        wallets[_pub] = 0;
    }
}